# Apache configuration for DB Sync

# Enable URL rewriting
RewriteEngine On

# Prevent directory listing
Options -Indexes

# PHP settings
php_value upload_max_filesize 100M
php_value post_max_size 100M
php_value max_execution_time 300
php_value memory_limit 512M

# Block access to sensitive files
<FilesMatch "\.(env|json|log|ini|yml|yaml)$">
    Deny from all
</FilesMatch>

# Block access to config directory
<IfModule mod_alias.c>
    RedirectMatch 307 ^/config/.*$ /
</IfModule>

# Pretty URLs
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^pages/(.*)$ pages/$1.php [L]
RewriteRule ^api/(.*)$ api/$1.php [L]

